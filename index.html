<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="description" content="TGM Plugin Activation is a PHP library that allows you to easily and automatically require, recommend and install plugins for your WordPress themes and plugins.">
		<title>TGM Plugin Activation - the Best Way to Include Plugins with WordPress Themes (and Other Plugins)</title>
		<link rel="stylesheet" href="style.css">
		<link rel="stylesheet" href="shCore.css">
		<link rel="stylesheet" href="shThemeDefault.css">
		<link rel="author" href="https://plus.google.com/114044312047618704188">
		<script src="shCore.js"></script>
		<script src="shBrushPhp.js"></script>
		<!-- Functionality -->
		<!--[if lt IE 9]><script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	</head>
	<body>
		<div class="doc">
			<div class="doc-content">
				<div class="doc-head">
					<div class="doc-head-content">
						<hgroup class="text">
							<h1>
								<a href="https://github.com/thomasgriffin/TGM-Plugin-Activation">TGM Plugin Activation</a>
							</h1>
							<h2>
								The best way to require and recommend plugins for WordPress themes (and other plugins)
							</h2>
						</hgroup>
						<div class="download">
      						<a href="https://github.com/thomasgriffin/TGM-Plugin-Activation/zipball/master">
        						<img border="0" width="90" src="https://github.com/images/modules/download/zip.png">
        					</a>
      						<a href="https://github.com/thomasgriffin/TGM-Plugin-Activation/tarball/master">
        						<img border="0" width="90" src="https://github.com/images/modules/download/tar.png">
        					</a>
    					</div>
    					<div class="clear"></div>
					</div>
				</div>
				<div class="doc-body">
					<div class="doc-body-content">
						<p>
							<strong>TGM Plugin Activation</strong> is a PHP library that allows you to easily require or recommend plugins for your WordPress themes (and plugins). It allows your users to install and even automatically activate plugins in singular or bulk fashion using native WordPress classes, functions and interfaces. You can reference pre-packaged plugins, plugins from the WordPress Plugin Repository or even plugins hosted elsewhere on the internet.
						</p>
						<nav>
							<ul>
								<li>
									<a href="#download">Download</a>
								</li>
								<li>
									<a href="#dependencies">Dependencies</a>
								</li>
								<li>
									<a href="#installation">Installation</a>
								</li>
								<li>
									<a href="#features">Features</a>
								</li>
								<li>
									<a href="#screenshots">Screenshots</a>
								</li>
								<li>
									<a href="#license">License</a>
								</li>
								<li>
									<a href="#authors">Authors</a>
								</li>
							</ul>
						</nav>
						<!-- -->
						<h3 id="download">
							Download
						</h3>
						<p>
							Download the latest stable version release <a href="https://github.com/thomasgriffin/TGM-Plugin-Activation/zipball/master">zipball</a> or <a href="https://github.com/thomasgriffin/TGM-Plugin-Activation/tarball/master">tarball</a>. You can also download your own package (such as the development version) <a href="https://github.com/thomasgriffin/TGM-Plugin-Activation">on GitHub</a>.
						</p>
						<!-- -->
						<h3 id="dependencies">
							Dependenices
						</h3>
						<p>
							The <strong>TGM Plugin Activation</strong> library requires at least WordPress 3.0 and PHP 5 to work properly.
						</p>
						<h3 id="installation">
							Installation
						</h3>
						<p>
							Installing the <strong>TGM Plugin Activation</strong> library is easy. Follow the instructions below:
						</p>
						<ol>
        					<li>Drop the class file somewhere in your theme hierarchy.</li>
        					<li>Add a <code>require_once</code> call within functions.php (or other theme file) referencing the class file.</li>
        					<li>Create a function, hooked to <code>tgmpa_register</code>, that registers the plugin and configurations.</li>
      					</ol>

     					<p>For steps 2 and 3, it is recommended your view, copy and paste the contents of <code>example.php</code>
and amend to suit. The <code>example.php</code> file is a model for how you should include the class in your theme.</p>

      					<p>Some important things to note:</p>
      					<ol>
        					<li>With the <code>require_once</code> call, make sure to amend the path to the correct location within your theme.</li>
        					<li>For plugins pulled from the .org repo, the source argument is optional. Otherwise it is required and should point
   to the absolute path for the plugin zips within your theme, or to a URL for zips elsewhere online.</li>
        					<li>The <code>$config</code> variable holds an array of arguments that can be used to customize aspects of the class.
   If you define an absolute default path for packaged plugins, you do not need to specify the directory path
   for your pre-packaged plugin within the 'source' argument. You will only need to specify the zip file name.</li>
     					</ol>
						<h3 id="features">
							Features
						</h3>
						<p>
							The <strong>TGM Plugin Activation</strong> library revolutionizes how plugins can be handled with WordPress themes and other plugins. By using classes that are utilized within WordPress, the <strong>TGM Plugin Activation</strong> library can automatically install and activate multiple plugins that are either packaged with a theme, downloaded from the WordPress Plugin Repository or downloaded elsewhere on the internet (perhaps a private repository). The library uses the WP_Filesystem Abstraction class to find the best way to install the plugins - WP_Filesystem searches through a number of methods (Direct, FTP, FTP Sockets, SSH) and determines the best one to use based on the user's server setup. If any FTP credentials are needed, a form will be displayed to prompt users to input their FTP credentials in order to continue processing the request. The library uses WordPress' own Plugin_Upgrader and Plugin_Installer_Skin and extensions of other WordPress upgrader classes to handle singular and bulk installations.
						<h4>
							API
						</h4>
						<p>
							The <strong>TGM Plugin Activation</strong> library has an easy to use API to reference plugins and set config options. Consider the code below (taken from <code>example.php</code>):
						</p>
						<div class="codeblock">
						<pre class="brush: php">
/**
 * Include the TGM_Plugin_Activation class.
 */
require_once dirname( __FILE__ ) . '/class-tgm-plugin-activation.php';
add_action( 'tgmpa_register', 'my_theme_register_required_plugins' );
/**
 * Register the required plugins for this theme.
 *
 * In this example, we register two plugins - one included with the TGMPA library
 * and one from the .org repo.
 *
 * The variable passed to tgmpa_register_plugins() should be an array of plugin
 * arrays.
 *
 * This function is hooked into tgmpa_init, which is fired within the
 * TGM_Plugin_Activation class constructor.
 */
function my_theme_register_required_plugins() {
	/*
	 * Array of plugin arrays. Required keys are name and slug.
	 * If the source is NOT from the .org repo, then source is also required.
	 */
	$plugins = array(
		// This is an example of how to include a plugin pre-packaged with a theme.
		array(
			'name'               => 'TGM Example Plugin', // The plugin name.
			'slug'               => 'tgm-example-plugin', // The plugin slug (typically the folder name).
			'source'             => get_stylesheet_directory() . '/lib/plugins/tgm-example-plugin.zip', // The plugin source.
			'required'           => true, // If false, the plugin is only 'recommended' instead of required.
			'version'            => '', // E.g. 1.0.0. If set, the active plugin must be this version or higher. If the plugin version is higher than the plugin version installed, the user will be notified to update the plugin.
			'force_activation'   => false, // If true, plugin is activated upon theme activation and cannot be deactivated until theme switch.
			'force_deactivation' => false, // If true, plugin is deactivated upon theme switch, useful for theme-specific plugins.
			'external_url'       => '', // If set, overrides default API URL and points to an external URL.
		),
		// This is an example of how to include a plugin from an arbitrary external source in your theme.
		array(
			'name'         => 'TGM New Media Plugin', // The plugin name.
			'slug'         => 'tgm-new-media-plugin', // The plugin slug (typically the folder name).
			'source'       => 'https://s3.amazonaws.com/tgm/tgm-new-media-plugin.zip', // The plugin source.
			'required'     => true, // If false, the plugin is only 'recommended' instead of required.
			'external_url' => 'https://github.com/thomasgriffin/New-Media-Image-Uploader', // If set, overrides default API URL and points to an external URL.
		),
		// This is an example of how to include a plugin from a GitHub repository in your theme.
		// This presumes that the plugin code is based in the root of the GitHub repository
		// and not in a subdirectory ('/src') of the repository.
		array(
			'name'      => 'Adminbar Link Comments to Pending',
			'slug'      => 'adminbar-link-comments-to-pending',
			'source'    => 'https://github.com/jrfnl/WP-adminbar-comments-to-pending/archive/master.zip',
			'required'  => false,
		),
		// This is an example of how to include a plugin from the WordPress Plugin Repository.
		array(
			'name'      => 'BuddyPress',
			'slug'      => 'buddypress',
			'required'  => false,
		),
		// This is an example of the use of 'is_callable' functionality. A user could - for instance -
		// have WPSEO installed *or* WPSEO Premium. The slug would in that last case be different, i.e.
		// 'wordpress-seo-premium'.
		// By setting 'is_callable' to either a function from that plugin or a class method
		// `array( 'class', 'method' )` similar to how you hook in to actions and filters, TGMPA can still
		// recognize the plugin as being installed.
		array(
			'name'        => 'WordPress SEO by Yoast',
			'slug'        => 'wordpress-seo',
			'is_callable' => 'wpseo_init',
		),
	);
	/*
	 * Array of configuration settings. Amend each line as needed.
	 *
	 * TGMPA will start providing localized text strings soon. If you already have translations of our standard
	 * strings available, please help us make TGMPA even better by giving us access to these translations or by
	 * sending in a pull-request with .po file(s) with the translations.
	 *
	 * Only uncomment the strings in the config array if you want to customize the strings.
	 *
	 * Some of the strings are wrapped in a sprintf(), so see the comments at the
	 * end of each line for what each argument will be.
	 */
	$config = array(
		'id'           => 'tgmpa',                 // Unique ID for hashing notices for multiple instances of TGMPA.
		'default_path' => '',                      // Default absolute path to pre-packaged plugins.
		'menu'         => 'tgmpa-install-plugins', // Menu slug.
		'parent_slug'  => 'themes.php',            // Parent menu slug.
		'capability'   => 'edit_theme_options',    // Capability needed to view plugin install page, should be a capability associated with the parent menu used.
		'has_notices'  => true,                    // Show admin notices or not.
		'dismissable'  => true,                    // If false, a user cannot dismiss the nag message.
		'dismiss_msg'  => '',                      // If 'dismissable' is false, this message will be output at top of nag.
		'is_automatic' => false,                   // Automatically activate plugins after installation or not.
		'message'      => '',                      // Message to output right before the plugins table.
		'strings'      => array(
			'page_title'                      => __( 'Install Required Plugins', 'theme-slug' ),
			'menu_title'                      => __( 'Install Plugins', 'theme-slug' ),
			'installing'                      => __( 'Installing Plugin: %s', 'theme-slug' ), // %s = plugin name.
			'oops'                            => __( 'Something went wrong with the plugin API.', 'theme-slug' ),
			'notice_can_install_required'     => _n_noop(
				'This theme requires the following plugin: %1$s.',
				'This theme requires the following plugins: %1$s.',
				'theme-slug'
			), // %1$s = plugin name(s).
			'notice_can_install_recommended'  => _n_noop(
				'This theme recommends the following plugin: %1$s.',
				'This theme recommends the following plugins: %1$s.',
				'theme-slug'
			), // %1$s = plugin name(s).
			'notice_cannot_install'           => _n_noop(
				'Sorry, but you do not have the correct permissions to install the %1$s plugin.',
				'Sorry, but you do not have the correct permissions to install the %1$s plugins.',
				'theme-slug'
			), // %1$s = plugin name(s).
			'notice_ask_to_update'            => _n_noop(
				'The following plugin needs to be updated to its latest version to ensure maximum compatibility with this theme: %1$s.',
				'The following plugins need to be updated to their latest version to ensure maximum compatibility with this theme: %1$s.',
				'theme-slug'
			), // %1$s = plugin name(s).
			'notice_ask_to_update_maybe'      => _n_noop(
				'There is an update available for: %1$s.',
				'There are updates available for the following plugins: %1$s.',
				'theme-slug'
			), // %1$s = plugin name(s).
			'notice_cannot_update'            => _n_noop(
				'Sorry, but you do not have the correct permissions to update the %1$s plugin.',
				'Sorry, but you do not have the correct permissions to update the %1$s plugins.',
				'theme-slug'
			), // %1$s = plugin name(s).
			'notice_can_activate_required'    => _n_noop(
				'The following required plugin is currently inactive: %1$s.',
				'The following required plugins are currently inactive: %1$s.',
				'theme-slug'
			), // %1$s = plugin name(s).
			'notice_can_activate_recommended' => _n_noop(
				'The following recommended plugin is currently inactive: %1$s.',
				'The following recommended plugins are currently inactive: %1$s.',
				'theme-slug'
			), // %1$s = plugin name(s).
			'notice_cannot_activate'          => _n_noop(
				'Sorry, but you do not have the correct permissions to activate the %1$s plugin.',
				'Sorry, but you do not have the correct permissions to activate the %1$s plugins.',
				'theme-slug'
			), // %1$s = plugin name(s).
			'install_link'                    => _n_noop(
				'Begin installing plugin',
				'Begin installing plugins',
				'theme-slug'
			),
			'update_link' 					  => _n_noop(
				'Begin updating plugin',
				'Begin updating plugins',
				'theme-slug'
			),
			'activate_link'                   => _n_noop(
				'Begin activating plugin',
				'Begin activating plugins',
				'theme-slug'
			),
			'return'                          => __( 'Return to Required Plugins Installer', 'theme-slug' ),
			'plugin_activated'                => __( 'Plugin activated successfully.', 'theme-slug' ),
			'activated_successfully'          => __( 'The following plugin was activated successfully:', 'theme-slug' ),
			'plugin_already_active'           => __( 'No action taken. Plugin %1$s was already active.', 'theme-slug' ),  // %1$s = plugin name(s).
			'plugin_needs_higher_version'     => __( 'Plugin not activated. A higher version of %s is needed for this theme. Please update the plugin.', 'theme-slug' ),  // %1$s = plugin name(s).
			'complete'                        => __( 'All plugins installed and activated successfully. %1$s', 'theme-slug' ), // %s = dashboard link.
			'contact_admin'                   => __( 'Please contact the administrator of this site for help.', 'tgmpa' ),
			'nag_type'                        => 'updated', // Determines admin notice type - can only be 'updated', 'update-nag' or 'error'.
		)
	);
	tgmpa( $plugins, $config );
}
						</pre>
						</div>
						<p>
							Each plugin can take an array of parameters, as indicated below (parameters in red are required):
						</p>
						<ul>
							<li><span class="required"><em><strong>name</strong></em></span> - The name of the plugin.</li>
							<li><span class="required"><em><strong>slug</strong></em></span> - The plugin slug, which is typically the name of the folder that holds the plugin.</li>
							<li><span class="required"><em><strong>required</strong></em></span> - Either <em>true</em> or <em>false</em>. If set to true, the plugin is "required". If set to false, the plugin is "recommended".</li>
							<li><span class="possibly-required"><em><strong>source</strong></em></span> - The source of the plugin. This parameter is required if the plugin you are referencing <u>is not</u> from the WordPress Plugin Repository. You can reference either pre-packaged plugins or plugins elsewhere on the internet from this parameter.</li>
							<li><em><strong>version</strong></em> - The minimum version required for the plugin. This parameter is useful if you require a minimum version of a plugin in order for your theme to work. If the user has the plugin installed but does not meet the minimum version specified, they are given a notice asking them to update the plugin to the latest version.</li>
							<li><em><strong>force_activation</strong></em> - Either <em>true</em> or <em>false</em>. If set to true, it forces the specified plugin to be active at all times while the current theme is active. The plugin can only be deactivated by switching themes.</li>
							<li><em><strong>force_deactivation</strong></em> - Either <em>true</em> or <em>false</em>. If set to true, it forces the specified plugin to be deactivated when the current theme is switched. This is useful for deactivating theme-specific plugins.</li>
							<li><em><strong>external_url</strong></em> - An external URL for the plugin. By default, plugins referenced from the WordPress Plugin Repository are linked to their plugin information via thickbox. This parameter overrides this default behavior and allows you to specify any URL for the plugin.</li>
						</ul>
						<p>
							The library also has a set of configuration options for you to manipulate on a global scale, as indicated below:
						</p>
						<ul>
							<li><em><strong>default_path</strong></em> - The default absolute path for pre-packaged plugins.</li>
							<li><em><strong>menu</strong></em> - The menu slug for the plugin install page. The slug for the actual plugin install page, by default it looks like this: <code>?page=tgmpa-install-plugins</code></li>
							<li><em><strong>has_notices</strong></em> - Either <em>true</em> or <em>false</em>. If true, admin notices are shown for required/recommended plugins.</li>
							<li><em><strong>dismissable</strong></em> - Either <em>true</em> or <em>false</em>. If true, admin admin notices can be dismissed by the user.</li>
							<li><em><strong>dismiss_msg</strong></em> - If the <code>dismissable</code> option is set to false, then this message will be output above the admin notice before listing the required/recommended plugins. This is filtered by <code>wp_kses_post()</code>.</li>
							<li><em><strong>is_automatic</strong></em> - Either <em>true</em> or <em>false</em>. If true, plugins will automatically be activated upon successful installation (for both singular and bulk installation processes).</li>
							<li><em><strong>message</strong></em> - Optional HTML content to include before the plugins table is output. This is filtered by <code>wp_kses_post()</code>.</li>
							<li><em><strong>strings</strong></em> - An array of customizable strings used throughout the library. Strings prefixed with <code>_n_noop()</code> have both singular and plural forms (in that order).</li>
						</ul>
						</p>
						<h4 id="screenshots">
							Screenshots
						</h4>
						<p>
							Below are a few screenshots to give you an idea of how the <strong>TGM Plugin Activation</strong> library interacts with WordPress.
						</p>
						<p>
							<img src="images/admin-notice.png" />
						</p>
						<p>
							<img src="images/admin-notice-all.png" />
						</p>
						<p>
							<img src="images/plugin-table.png" />
						</p>
						<p>
							<img src="images/bulk-install.png" />
						</p>
						<h3 id="license">
							License
						</h3>
						<p>
							The <strong>TGM Plugin Activation</strong> library is licensed under the <a href="http://www.opensource.org/licenses/GPL-2.0">GPL-2.0 or later license</a>.
						</p>
						<h3 id="authors">
							Authors
						</h3>
						<p>
							The <strong>TGM Plugin Activation</strong> library was created and is maintained by <a href="https://thomasgriffin.io">Thomas Griffin</a>.
						</p>
					</div>
				</div>
			</div>
		</div>
		<script type="text/javascript">
     		SyntaxHighlighter.all()
		</script>
		<script type="text/javascript">

  			var _gaq = _gaq || [];
  			_gaq.push(['_setAccount', 'UA-28200109-1']);
  			_gaq.push(['_trackPageview']);

  			(function() {
    			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  			})();

		</script>
	</body>
</html>
